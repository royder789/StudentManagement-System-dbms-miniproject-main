<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <title>{% block title %}{% endblock %}</title>
  <meta content="Student Management System" name="description">
  <meta content="education, student management, DBMS, Flask, MySQL" name="keywords">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Tailwind CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <!-- Font Awesome for Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <!-- AOS Animation Library -->
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

  <!-- Custom CSS -->
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #FAF3E0; /* Soft Cream */
      color: #1F2937; /* Slate */
      overflow-x: hidden;
    }
    
    /* Premium Navigation Bar */
    #header {
      background: rgba(255, 255, 255, 0.98);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
    }
    #header.scrolled {
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      padding: 8px 0;
    }
    
    /* Logo Design */
    #logo a {
      color: #0F766E;
      font-weight: 700;
      font-size: 1.8rem;
      position: relative;
      padding-left: 50px;
    }
    #logo a::before {
      content: "";
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      background: url('https://img.icons8.com/fluency/48/000000/school.png') no-repeat center center;
      background-size: contain;
    }
    
    /* Navigation Menu */
    .nav-menu a {
      color: #1F2937;
      font-weight: 500;
      position: relative;
      padding: 12px 15px;
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    .nav-menu a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background: #0F766E;
      transition: width 0.3s ease;
    }
    .nav-menu a:hover::after {
      width: 60%;
    }
    .nav-menu .menu-active a {
      color: #0F766E;
      font-weight: 600;
    }
    .nav-menu .menu-active a::after {
      width: 60%;
    }
    
    /* CTA Buttons */
    .buy-tickets a {
      background: linear-gradient(135deg, #0F766E, #14B8A6);
      color: white;
      padding: 10px 22px;
      border-radius: 30px;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(15, 118, 110, 0.3);
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
    }
    .buy-tickets a:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(15, 118, 110, 0.4);
    }
    .buy-tickets a i {
      margin-right: 8px;
    }
    
    /* Hero Section */
    #intro {
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                  url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') no-repeat center center/cover;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    .intro-container h1 {
      font-size: 3.5rem;
      font-weight: 700;
      color: white;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      margin-bottom: 1.5rem;
      line-height: 1.2;
    }
    .intro-container p {
      font-size: 1.25rem;
      color: rgba(255, 255, 255, 0.9);
      max-width: 700px;
      margin: 0 auto 2rem;
    }
    
    /* Main Content */
    main {
      background: white;
      min-height: calc(100vh - 80px);
      padding: 3rem;
      margin-top: 80px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.05);
      border-radius: 15px;
      position: relative;
      overflow: hidden;
    }
    main::before {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      width: 200px;
      height: 200px;
      background: url('https://img.freepik.com/free-vector/vector-cartoon-background-empty-school-classroom_1441-1838.jpg') no-repeat;
      background-size: contain;
      opacity: 0.05;
    }
    
    /* Alerts */
    .alert {
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1.5rem;
      position: relative;
      overflow: hidden;
      border-left: 4px solid;
    }
    .alert::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: currentColor;
      opacity: 0.1;
      z-index: 0;
    }
    .alert-success {
      border-color: #10B981;
      color: #065F46;
    }
    .alert-danger {
      border-color: #EF4444;
      color: #991B1B;
    }
    .alert .close {
      position: absolute;
      right: 15px;
      top: 15px;
      opacity: 0.7;
    }
    
    /* Back to Top Button */
    .back-to-top {
      background: linear-gradient(135deg, #0F766E, #14B8A6);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: fixed;
      bottom: 30px;
      right: 30px;
      box-shadow: 0 4px 15px rgba(15, 118, 110, 0.3);
      transition: all 0.3s ease;
      z-index: 999;
    }
    .back-to-top:hover {
      transform: translateY(-5px) scale(1.1);
      box-shadow: 0 8px 25px rgba(15, 118, 110, 0.4);
    }
    
    /* Responsive Adjustments */
    @media (max-width: 992px) {
      .nav-menu {
        display: none;
      }
      #intro h1 {
        font-size: 2.5rem;
      }
    }
  </style>

  {% block style %}{% endblock %}
</head>

<body>
  <!-- ======= Premium Header ======= -->
  <header id="header" class="fixed top-0 w-full z-50">
    <div class="container mx-auto px-6 py-3 flex items-center justify-between">
      <div id="logo">
        <a href="/" class="scrollto">StudentPro</a>
      </div>
      
      <nav id="nav-menu-container">
        <ul class="nav-menu flex items-center space-x-1">
          <li class="{% block home %}{% endblock %}"><a href="/"><i class="fas fa-home mr-2"></i>Home</a></li>
          <li><a href="/addstudent"><i class="fas fa-user-graduate mr-2"></i>Students</a></li>
          <li><a href="/addattendance"><i class="fas fa-clipboard-check mr-2"></i>Attendance</a></li>
          <li><a href="/department"><i class="fas fa-building mr-2"></i>Department</a></li>
          <li><a href="/triggers"><i class="fas fa-database mr-2"></i>Records</a></li>
          <li><a href="/studentdetails"><i class="fas fa-id-card mr-2"></i>Details</a></li>
          <li><a href="/search"><i class="fas fa-search mr-2"></i>Search</a></li>
          
          {% if current_user.is_authenticated %}
            <li class="buy-tickets ml-4"><a href="#"><i class="fas fa-user-circle"></i> {{ current_user.username }}</a></li>
            <li class="buy-tickets"><a href="/logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
          {% else %}
            <li class="buy-tickets ml-4"><a href="/signup"><i class="fas fa-sign-in-alt"></i> Sign In</a></li>
          {% endif %}
        </ul>
      </nav>
    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  {% block intro %}
  {% if request.endpoint == 'home' %}
  <section id="intro" data-aos="zoom-in" data-aos-delay="100">
    <div class="intro-container text-center px-4">
      <h1 class="mb-6">Advanced Student Management Platform</h1>
      <p class="mb-8">A comprehensive solution for educational institutions to manage student data, attendance, and records with precision and efficiency.</p>
      <a href="/about" class="about-btn scrollto">
        <i class="fas fa-arrow-right mr-2"></i> Explore Features
      </a>
    </div>
  </section>
  {% endif %}
  {% endblock %}<!-- End Hero Section -->

  <main id="main" class="container mx-auto max-w-6xl">
    {% with messages=get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            <div class="relative z-10">
              <i class="fas fa-{{ 'check-circle' if category == 'success' else 'exclamation-triangle' }} mr-2"></i>
              {{ message }}
            </div>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    
    {% block body %}{% endblock %}
  </main>

  <a href="#" class="back-to-top"><i class="fas fa-arrow-up"></i></a>

  <!-- Vendor JS Files -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>

  <!-- Custom JS -->
  <script>
    AOS.init({
      duration: 800,
      easing: 'ease-in-out'
    });
    
    $(window).scroll(function() {
      if ($(this).scrollTop() > 50) {
        $('#header').addClass('scrolled');
      } else {
        $('#header').removeClass('scrolled');
      }
      
      if ($(this).scrollTop() > 300) {
        $('.back-to-top').fadeIn();
      } else {
        $('.back-to-top').fadeOut();
      }
    });
    
    // Smooth scrolling for all links
    $('a[href*="#"]').on('click', function(e) {
      e.preventDefault();
      $('html, body').animate(
        {
          scrollTop: $($(this).attr('href')).offset().top - 70,
        },
        500,
        'linear'
      );
    });
    
    // Set active menu item
    $(document).ready(function() {
      const currentUrl = window.location.pathname;
      $('.nav-menu a').each(function() {
        if ($(this).attr('href') === currentUrl) {
          $(this).parent().addClass('menu-active');
        }
      });
    });
  </script>
  
  {% block scripts %}{% endblock %}
</body>
</html>